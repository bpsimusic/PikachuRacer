{"version":3,"sources":["webpack:///webpack/bootstrap 38df72aef5546b6e8300","webpack:///./lib/pikachuRacer.js","webpack:///./lib/sprite.js"],"names":["Sprite","require","requestAnimFrame","window","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","callback","setTimeout","document","addEventListener","scrollImg","Image","scrollVal","speed","src","onload","renderImage","pikachu","init","canvas3","createElement","ctx3","getContext","width","height","className","body","appendChild","lastTime","main","now","Date","dt","update","render","player","pos","sprite","playerSpeed","handleInput","updateEntities","pressedKeys","setKey","event","status","code","keyCode","key","String","fromCharCode","e","input","isDown","toUpperCase","console","log","drawImage","renderEntity","entity","save","translate","url","restore","size","frames","dir","once","_index","prototype","ctx","frame","max","length","idx","Math","floor","done","x","y","module","exports"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 38df72aef5546b6e8300","const Sprite = require(\"./sprite.js\");\n\nlet requestAnimFrame = (function(){\n    return window.requestAnimationFrame       ||\n        window.webkitRequestAnimationFrame ||\n        window.mozRequestAnimationFrame    ||\n        window.oRequestAnimationFrame      ||\n        window.msRequestAnimationFrame     ||\n        function(callback){\n            window.setTimeout(callback, 1000 / 60);\n        };\n})();\n\n///////////////////\ndocument.addEventListener(\"DOMContentLoaded\", function(){\n    // let canvas = document.getElementById(\"canvas\");\n    // let playerCanvas = document.getElementById(\"player-canvas\");\n    // let ctx = canvas.getContext(\"2d\");\n    // const ctx2 = playerCanvas.getContext(\"2d\");\n\n    let scrollImg = new Image();\n    let scrollVal = 0;\n    let speed =0.08;\n\n    scrollImg.src = \"assets/pokemon.jpg\";\n    scrollImg.onload = renderImage;\n\n    let pikachu = new Image();\n    pikachu.src = \"assets/pikachu.png\";\n\n    function renderImage(){\n      //if you change scrollVal >=, you must change the ctx.drawImage.\n        if(scrollVal >= 600){\n            return;\n        }\n        scrollVal+=speed;\n        // ctx.drawImage(scrollImg, scrollVal, 0, 640, 854, 0,0,canvas.width, canvas.height);\n        setTimeout(function(){renderImage();},10);\n    }\n\n    pikachu.onload = function(){\n      init();\n    };\n/////////////////////////////\n\n\n\n// Create the canvas\nlet canvas3 = document.createElement(\"canvas\");\nlet ctx3 = canvas3.getContext(\"2d\");\ncanvas3.width = 512;\ncanvas3.height = 480;\ncanvas3.className = \"test-canvas\";\ndocument.body.appendChild(canvas3);\n\n\n//game loop\nlet lastTime;\nfunction main() {\n  let now = Date.now();\n  let dt = (now - lastTime) / 1000.0;\n  update(dt);\n  render();\n  lastTime = now;\n  requestAnimFrame(main);\n}\n//the initialize function\nfunction init() {\n    lastTime = Date.now();\n    main();\n}\n\n//game state\nlet player = {\n    pos: [0, 0],\n    sprite: new Sprite(pikachu, [0, 0], [280, 200])\n};\n\n//Speed in pixels per second\nlet playerSpeed = 200;\n\n\n//the main update function. Called every frame.\n  function update(dt) {\n      handleInput(dt);\n      updateEntities(dt);\n  }\n\n\n//the input controls\n  var pressedKeys = {};\n\n  function setKey(event, status) {\n      var code = event.keyCode;\n      var key;\n\n      switch(code) {\n      case 32:\n          key = 'SPACE'; break;\n      case 37:\n          key = 'LEFT'; break;\n      case 38:\n          key = 'UP'; break;\n      case 39:\n          key = 'RIGHT'; break;\n      case 40:\n          key = 'DOWN'; break;\n      default:\n          // Convert ASCII codes to letters\n          key = String.fromCharCode(code);\n      }\n\n      pressedKeys[key] = status;\n  }\n\n  document.addEventListener('keydown', function(e) {\n      setKey(e, true);\n  });\n\n  document.addEventListener('keyup', function(e) {\n      setKey(e, false);\n  });\n\n  window.addEventListener('blur', function() {\n      pressedKeys = {};\n  });\n\n  window.input = {\n      isDown: function(key) {\n          return pressedKeys[key.toUpperCase()];\n      }\n  };\n\n//handles the input from the player\n  function handleInput(dt) {\n    if(window.input.isDown('DOWN') || window.input.isDown('s')) {\n        player.pos[1] += playerSpeed * dt;\n    }\n\n    if(window.input.isDown('UP') || window.input.isDown('w')) {\n        player.pos[1] -= playerSpeed * dt;\n        console.log(\"sup\");\n    }\n\n    if(window.input.isDown('LEFT') || window.input.isDown('a')) {\n        player.pos[0] -= playerSpeed * dt;\n    }\n\n    if(window.input.isDown('RIGHT') || window.input.isDown('d')) {\n        player.pos[0] += playerSpeed * dt;\n    }\n  }\n\n//updating your Pikachu Sprite.\n  function updateEntities(dt) {\n    player.sprite.update(dt);\n  }\n\n// Draw the player\n  let render = () => {\n    ctx3.drawImage(scrollImg, scrollVal, 0, 640, 854, 0,0,canvas3.width, canvas3.height);\n    renderEntity(player);\n  };\n\n\n  let renderEntity = (entity) => {\n      ctx3.save();\n      ctx3.translate(entity.pos[0], entity.pos[1]);\n      entity.sprite.render(ctx3, entity.sprite.url);\n      ctx3.restore();\n  };\n\n});\n\n\n\n// WEBPACK FOOTER //\n// ./lib/pikachuRacer.js","\nfunction Sprite(url, pos, size, speed, frames, dir, once) {\n    this.pos = pos;\n    this.size = size;\n    this.speed = typeof speed === 'number' ? speed : 0;\n    this.frames = frames;\n    this._index = 0;\n    this.url = url;\n    this.dir = dir || 'horizontal';\n    this.once = once;\n}\n\nSprite.prototype = {\n    update: function(dt) {\n        this._index += this.speed*dt;\n    },\n\n    render: function(ctx, url) {\n        var frame;\n\n        if(this.speed > 0) {\n            var max = this.frames.length;\n            var idx = Math.floor(this._index);\n            frame = this.frames[idx % max];\n\n            if(this.once && idx >= max) {\n                this.done = true;\n                return;\n            }\n        }\n        else {\n            frame = 0;\n        }\n\n\n        var x = this.pos[0];\n        var y = this.pos[1];\n\n        if(this.dir == 'vertical') {\n            y += frame * this.size[1];\n        }\n        else {\n            x += frame * this.size[0];\n        }\n\n        ctx.drawImage(url,\n                      0, 0,\n                      this.size[0], this.size[1],\n                      0, 283,\n                      70, 50);\n    }\n};\n\nwindow.Sprite = Sprite;\nmodule.exports = Sprite;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/sprite.js"],"sourceRoot":""}